<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<script type="module" src="./src/main.js"></script>
<script type = "module" src = "./src/components/shapesIcons.js"></script>
<script type = "module" src = "./src/components/lay.js"></script>
<script type="module" src = "./src/components/properties.js" ></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    body { font-family: 'Inter', sans-serif; }

    .sidebar-item { 
        transition: all 0.3s ease; 
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }
    
    .sidebar-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: left 0.5s;
    }
    
    .sidebar-item:hover::before {
        left: 100%;
    }
    
    .sidebar-item:hover { 
        transform: translateX(5px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .svg-container {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
    }
    
    .svg-container::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        animation: rotate 30s linear infinite;
    }

    @keyframes rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    @keyframes pulse {
        0% { r: 20; opacity: 1; }
        50% { r: 25; opacity: 0.8; }
        100% { r: 20; opacity: 1; }
    }

    .pulsing { animation: pulse 2s ease-in-out infinite; }
    
    .glass-effect {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .shape-icon {
        width: 24px;
        height: 24px;
        display: inline-block;
        margin-right: 8px;
        vertical-align: middle;
    }
    
    .property-input {
        transition: all 0.2s ease;
    }
    
    .property-input:focus {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
    }
    
    .tab-button {
        position: relative;
        overflow: hidden;
    }
    
    .tab-button::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: #6366f1;
        transition: width 0.3s ease;
    }
    
    .tab-button.active::after {
        width: 100%;
    }
    
    .floating-button {
        box-shadow: 0 4px 14px 0 rgba(99, 102, 241, 0.39);
        transition: all 0.3s ease;
    }
    
    .floating-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px 0 rgba(99, 102, 241, 0.5);
    }
</style>

<title>SVG Editor</title>
</head>
<body class="h-screen bg-gradient-to-br from-slate-100 to-slate-200">

<!-- Main container -->
<div class="flex flex-col h-full">

    <!-- Main content area -->
    <div class="flex flex-1 overflow-hidden">

        <!-- Sidebar -->
        <aside class="w-64 bg-white shadow-xl z-10 glass-effect">
            <div class="p-6 ">
                <lay-component />
            </div>

            <div class="p-6 border-t border-gray-200">
                <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 flex items-center">
                    <i class="fas fa-sliders-h mr-2 "></i>
                    Controls
                </h3>
                <div class="space-y-3">
                    <button id="animateBtn" class="w-full  bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition-all floating-button flex items-center justify-center">
                        <i class="fas fa-play mr-2"></i>
                        Animate SVG
                    </button>
                    <button class="w-full text-white bg-gray-500 font-medium py-2 px-4 rounded-lg transition-all flex items-center justify-center" onclick="toImage()">
                        <i class="fas fa-download mr-2"></i>
                        Download
                    </button>
                    <button class="w-full  bg-gray-500 to-red-600 text-white font-medium py-2 px-4 rounded-lg transition-all flex items-center justify-center" onclick="clearCanvas()">
                        <i class="fas fa-trash mr-2"></i>
                        Clear Canvas
                    </button>
                </div>
            </div>
        </aside>

        <!-- SVG container -->
        <main class="flex-1  h-full">

            <shapes-component></shapes-component>
            
            <div class="flex-1 svg-container rounded-xl relative">
                    <svg width="100%" height="100%" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg"
                         class="rounded-lg  relative z-10  boarder-red-500">

                        <defs>
                            <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
                            </linearGradient>
                            <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
                                <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
                                <feOffset dx="0" dy="2" result="offsetblur"/>
                                <feComponentTransfer>
                                    <feFuncA type="linear" slope="0.2"/>
                                </feComponentTransfer>
                                <feMerge> 
                                    <feMergeNode/>
                                    <feMergeNode in="SourceGraphic"/> 
                                </feMerge>
                            </filter>
                        </defs>

                        <!-- Background -->
                        <rect width="100%" height="100%" fill="white" filter="url(#shadow)" />
                        
                        <!-- Grid pattern -->
                        <defs>
                            <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
                            </pattern>
                        </defs>
                        <rect width="100%" height="100%" fill="url(#grid)" />
                    </svg>
                    
                </div>
        </main>

        <!-- Properties Panel -->
        <properties-component></properties-component>
    </div>
</div>

<script>

    
    // Clear canvas function
    function clearCanvas() {
        const svg = document.querySelector('svg');
        // Keep only the background and grid
        while (svg.children.length > 3) {
            svg.removeChild(svg.lastChild);
        }
    }
</script>

</body>
</html>